(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1a78462"],{"125b":function(e,t,r){},"1a49":function(e,t,r){"use strict";var a=r("f2bf"),n={class:"p-fluid"};function o(e,t,r,o,c,i){var l=Object(a["resolveComponent"])("BButton");return Object(a["openBlock"])(),Object(a["createBlock"])("form",{onSubmit:t[1]||(t[1]=Object(a["withModifiers"])((function(){return o.submitHandler.apply(o,arguments)}),["prevent"]))},[Object(a["createVNode"])("div",n,[Object(a["renderSlot"])(e.$slots,"default")]),Object(a["renderSlot"])(e.$slots,"actions",{},(function(){return[Object(a["createVNode"])(l,{label:"Отправить",class:"p-button-success",type:"submit"})]}))],32)}var c={name:"FormWrap",emits:["submited"],setup:function(e,t){var r=t.emit,a=function(){r("submited")};return{submitHandler:a}}};c.render=o;t["a"]=c},2092:function(e,t,r){"use strict";r("125b")},"2ab2":function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("f2bf"),n={class:"order-page"},o=Object(a["createVNode"])("h1",null,"Оформление заказа",-1),c={class:"p-grid"},i={class:"p-col-4"},l={class:"p-field"},u=Object(a["createVNode"])("label",null,"Количество персон",-1),d={class:"p-col-4 p-offset-4"},s={class:"order-cart-list"},b={class:"cart-item__info p-ml-2"},p={class:"p-mt-0 p-mb-1"},f={class:"p-ml-2"},m={class:"p-mt-0 p-mb-0 p-ml-auto"};function v(e,t,r,v,j,O){var h=Object(a["resolveComponent"])("FormField"),y=Object(a["resolveComponent"])("AppCount"),V=Object(a["resolveComponent"])("FormWrap"),g=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[o,Object(a["createVNode"])("div",c,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])(V,{onSubmited:v.onSubmit},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(h,{label:"Адрес",id:"address",modelValue:v.address,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.address=e}),v:v.v.address},null,8,["modelValue","v"]),Object(a["createVNode"])(h,{label:"Телефон",id:"phone",modelValue:v.phone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.phone=e}),v:v.v.phone,isPhone:""},null,8,["modelValue","v"]),Object(a["createVNode"])("div",l,[u,Object(a["createVNode"])(y,{modelValue:v.count,"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.count=e}),min:1},null,8,["modelValue"])])]})),_:1},8,["onSubmited"])]),Object(a["createVNode"])("div",d,[Object(a["createVNode"])("h3",null,"Список товаров на сумму "+Object(a["toDisplayString"])(v.currencyFilter(v.cartsTotalSum)),1),Object(a["createVNode"])("div",s,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(v.carts,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:"cart-item p-d-flex p-mb-2 p-ai-center",key:e.id},[Object(a["createVNode"])("img",{alt:e.name,src:"https://source.unsplash.com/".concat(e.image,"/100x100/")},null,8,["alt","src"]),Object(a["createVNode"])("div",b,[Object(a["createVNode"])("h3",p,Object(a["toDisplayString"])(v.currencyFilter(e.price)),1),Object(a["createVNode"])(g,{to:"/"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]})),_:2},1024),Object(a["createVNode"])("p",f,"x "+Object(a["toDisplayString"])(e.quantity),1)]),Object(a["createVNode"])("h4",m,Object(a["toDisplayString"])(v.currencyFilter(e.price*e.quantity)),1)])})),128))])])])])}r("96cf");var j=r("1da1"),O=r("25a0"),h=r("e3e1"),y=r("cd6d"),V=r("2148"),g=r("c1ee"),x=r("1a49"),$=r("2d61"),k=r("5502"),S=r("6c02"),w={name:"OrderPage",components:{FormField:g["a"],FormWrap:x["a"],AppCount:$["a"]},setup:function(){var e=Object(y["a"])(),t=e.carts,r=e.cartsTotalSum,n=e.clearCart,o=Object(V["a"])(),c=o.currencyFilter,i=Object(k["b"])(),l=Object(S["d"])(),u=Object(a["ref"])(null),d=Object(a["ref"])(null),s=Object(a["ref"])(1),b={address:{required:h["c"]},phone:{required:h["c"]}},p=Object(O["b"])(b,{address:u,phone:d}),f=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(p.value.$touch(),!p.value.$error){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i.dispatch("orders/postOrder",{address:u.value,phone:d.value,person_count:s.value}).then((function(){n(),l.push({name:"CatalogPage"})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{address:u,phone:d,count:s,onSubmit:f,v:p,carts:t,cartsTotalSum:r,currencyFilter:c}}};r("2092");w.render=v;t["default"]=w},c1ee:function(e,t,r){"use strict";var a=r("f2bf"),n={class:"p-field"};function o(e,t,r,o,c,i){var l=Object(a["resolveComponent"])("InputMask"),u=Object(a["resolveComponent"])("InputText");return Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[r.label&&r.label.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("label",{key:0,for:r.id},Object(a["toDisplayString"])(r.label),9,["for"])):Object(a["createCommentVNode"])("",!0),r.isPhone?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,id:r.id,modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.value=e}),mask:"+7 (999) 999-9999",placeholder:"+7 (999) 999-9999"},null,8,["id","modelValue"])):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:2,id:r.id,type:r.type,modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.value=e}),placeholder:r.placeholder,"aria-describedby":"".concat(r.id,"-help"),class:{"p-invalid":r.v&&r.v.$dirty&&r.v.$error}},null,8,["id","type","modelValue","placeholder","aria-describedby","class"])),r.v&&r.v.$dirty&&r.v.$error?(Object(a["openBlock"])(),Object(a["createBlock"])("small",{key:3,id:"".concat(r.id,"-help"),class:"p-invalid"},Object(a["toDisplayString"])(r.v.$errors[0].$message),9,["id"])):Object(a["createCommentVNode"])("",!0)])}var c={name:"FormField",emits:["update:modelValue"],props:{label:String,id:{type:String,required:!0},type:{type:String,default:"text"},placeholder:String,modelValue:String,isPhone:Boolean,v:Object},setup:function(e,t){var r=t.emit,n=Object(a["ref"])(e.modelValue);return Object(a["watch"])(n,(function(e){r("update:modelValue",e)})),{value:n}}};c.render=o;t["a"]=c},e3e1:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return y}));var a=r("72dd");function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return"function"===typeof e}function c(e){return null!==e&&"object"===n(e)&&!Array.isArray(e)}function i(e){return o(e.$validator)?e:{$validator:e}}function l(e){var t=i(e);return t.$async=!0,t}function u(e,t){if(!c(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '.concat(n(e)));if(!c(t)&&!o(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");var r=i(t);return r.$params=Object.assign({},r.$params,{},e),r}function d(e,t){if(!o(e)&&"string"!==typeof Object(a["i"])(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '.concat(n(e)));if(!c(t)&&!o(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");var r=i(t);return r.$message=e,r}var s=function(e){if(e=Object(a["i"])(e),Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===n(e)){for(var t in e)return!0;return!1}return!!String(e).length},b=function(e){return e=Object(a["i"])(e),Array.isArray(e)?e.length:"object"===n(e)?Object.keys(e).length:String(e).length};function p(e){return function(t){return t=Object(a["i"])(t),!s(t)||e.test(t)}}a["i"],p(/^[a-zA-Z]*$/),p(/^[a-zA-Z0-9]*$/),p(/^\d*(\.\d+)?$/);var f=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,m=p(f),v={$validator:m,$message:"Value is not a valid email address"};function j(e){return function(t){return!s(t)||b(t)>=Object(a["i"])(e)}}function O(e){return{$validator:j(e),$message:function(e){var t=e.$params;return"This field should be at least ".concat(t.min," long.")},$params:{min:e}}}function h(e){return"string"===typeof e&&(e=e.trim()),s(e)}var y={$validator:h,$message:"Value is required"};var V=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;p(V);p(/(^[0-9]*$)|(^-[0-9]+$)/),p(/^[-]?\d*(\.\d+)?$/)}}]);
//# sourceMappingURL=chunk-f1a78462.c5bddd93.js.map